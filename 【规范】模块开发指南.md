# 模块开发指南

本项目是一个前端工具/测试功能集合，每个功能模块独立成文件夹，便于维护和扩展。

## 核心原则

- **一个功能一个文件夹**：每个独立功能模块放在单独的目录中
- **代码分离**：HTML、CSS、JS 分离，不堆砌在一个文件中
- **文档完整**：每个模块必须有 README.md 说明文档
- **资源规范**：公共资源放 `res/`，模块私有资源放模块目录内

## 目录结构规范

```
/
├── README.md                    # 项目总览
├── 【规范】模块开发指南.md        # 本文档
├── res/                         # 公共资源（字体、通用图片等）
├── .kiro/                       # Kiro 配置
│
├── [module-name]/               # 功能模块目录
│   ├── index.html               # 主入口页面
│   ├── [page-name].html         # 其他页面（如有）
│   ├── app.js 或 [page].js      # JavaScript 逻辑
│   ├── style.css 或 [page].css  # 样式文件
│   ├── README.md                # 模块说明文档
│   ├── img/                     # 模块私有图片（如有）
│   └── ...
```

## 文件命名规范

| 类型 | 命名规则 | 示例 |
|------|----------|------|
| 模块目录 | 小写字母 + 连字符 | `image-fill/`, `file-upload/` |
| HTML 文件 | 小写字母 + 连字符 | `index.html`, `normal-upload.html` |
| JS 文件 | 小写字母 + 连字符 或 驼峰 | `app.js`, `index.js` |
| CSS 文件 | 小写字母 + 连字符 | `style.css`, `index.css` |
| 图片文件 | 小写字母 + 连字符 | `logo-dark.png` |

## 技术栈规范

### 基础必备（P0）—— 按需使用

本项目为工具/测试性质，不强制使用完整框架，但推荐以下基础库：

| 库 | CDN 地址 | 用途 |
|---|---------|------|
| Normalize.css | `https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css` | CSS 重置 |

### 功能增强（P1）—— 按需引入

| 库 | CDN 地址 | 用途 |
|---|---------|------|
| SheetJS (xlsx) | `https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js` | Excel 解析 |
| JSZip | `https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js` | ZIP 压缩 |
| FileSaver.js | `https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js` | 文件下载 |
| dompdf.js | `https://cdn.jsdelivr.net/npm/dompdf.js@1.0.4/dist/dompdf.min.js` | HTML 转 PDF |

### 交互动效（P2）—— 提升体验

| 库 | CDN 地址 | 用途 |
|---|---------|------|
| GSAP | `https://cdn.jsdelivr.net/npm/gsap@3.12.4/dist/gsap.min.js` | 高级动画 |
| ScrollTrigger | `https://cdn.jsdelivr.net/npm/gsap@3.12.4/dist/ScrollTrigger.min.js` | 滚动触发动画 |
| Swiper | `https://cdn.jsdelivr.net/npm/swiper@11.0.5/swiper-bundle.min.js` | 轮播组件 |

### 使用原则

1. **优先使用原生 JavaScript**，避免不必要的依赖
2. **按需引入**，不要一次性加载所有库
3. **使用 CDN**，不打包第三方库到项目中
4. **版本锁定**，CDN 地址带版本号，避免意外升级

## 代码规范

### HTML

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>页面标题</title>
    <!-- 外部 CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 页面内容 -->
    
    <!-- 外部 JS 放在 body 末尾 -->
    <script src="app.js"></script>
</body>
</html>
```

- 使用语义化标签：`header`, `main`, `section`, `article`, `footer`
- 图片必须有 `alt` 属性
- 表单元素必须有 `label`

### CSS

```css
/* 使用 CSS 变量定义主题色 */
:root {
    --primary-color: #C17F59;
    --text-color: #333;
    --bg-color: #f5f5f5;
}

/* 组件化命名 */
.card { }
.card-header { }
.card-body { }

/* 状态类使用 is- 或 has- 前缀 */
.is-active { }
.has-error { }
```

- 使用 CSS 变量管理主题色
- 避免过深的选择器嵌套（最多 3 层）
- 响应式断点统一：768px（平板）、1024px（桌面）

### JavaScript

```javascript
// 使用 const/let，避免 var
const state = { };

// 函数命名：动词 + 名词
function handleUpload() { }
function renderList() { }
function updateProgress() { }

// 事件绑定使用 addEventListener
element.addEventListener('click', handleClick);

// 异步操作使用 async/await
async function fetchData() {
    try {
        const response = await fetch(url);
        const data = await response.json();
        return data;
    } catch (error) {
        console.error('请求失败:', error);
    }
}
```

- 使用 ES6+ 语法
- 函数职责单一，避免超过 50 行
- 添加必要的注释说明

## 性能优化

1. **图片懒加载**：使用 `loading="lazy"` 或 vanilla-lazyload
2. **延迟加载 JS**：非关键 JS 使用 `defer` 属性
3. **避免阻塞渲染**：CSS 放 head，JS 放 body 末尾
4. **合理使用动画**：优先使用 CSS 动画，复杂动画用 requestAnimationFrame

## 模块 README 模板

每个模块的 README.md 应包含：

```markdown
# 模块名称

简短描述模块功能。

## 功能特性

- 特性 1
- 特性 2

## 使用方法

1. 步骤 1
2. 步骤 2

## 技术栈

- 库 1 - 用途
- 库 2 - 用途

## 文件结构

模块内文件说明

## 注意事项

使用时需要注意的问题
```

## 新建模块流程

1. 在根目录创建模块文件夹（小写 + 连字符命名）
2. 创建 `index.html` 作为入口
3. 创建 `style.css` 和 `app.js`（或按页面拆分）
4. 编写 `README.md` 说明文档
5. 更新根目录 `README.md` 添加模块说明
6. 如有公共资源需求，放入 `res/` 目录

## 提交检查清单

- [ ] 代码分离：HTML/CSS/JS 独立文件
- [ ] 文档完整：README.md 已编写
- [ ] 命名规范：文件和目录命名符合规范
- [ ] 无冗余代码：删除调试代码和注释掉的代码
- [ ] 响应式适配：移动端显示正常
- [ ] 功能测试：核心功能可正常使用
